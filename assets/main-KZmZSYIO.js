import{g as m,s as y,u as S,p as q}from"./showToast-Prz-j4G-.js";const g=(u,o,d)=>{let c=m();const a=document.querySelector(`#card${o}`);let t=parseInt(a.querySelector(".productQuantity").innerText),e=a.querySelector(".productPrice").innerText;e=Number(e.replace("₹",""));let l=c.find(n=>n.id===o);if(l&&t>1){t=Number(l.quantity)+t,e=Number(e*t).toFixed(2);let n={id:o,quantity:t,price:e};n=c.map(i=>i.id===o?n:i),console.log(n),localStorage.setItem("cartProducts",JSON.stringify(n))}if(e=(e*t).toFixed(2),l)return!1;c.push({id:o,quantity:t,price:e}),localStorage.setItem("cartProducts",JSON.stringify(c)),y("add",o),S(c)},f=(u,o,d)=>{const c=document.querySelector(`#card${o}`);console.log(c);const a=c.querySelector(".productQuantity");let t=parseInt(a.getAttribute("data-quantity"))||1;return u.target.className==="cartIncrement"&&(t<d?t+=1:t===d&&(t=d)),u.target.className==="cartDecrement"&&t>1&&(t-=1),a.innerText=t,a.setAttribute("data-quantity",t),t},C=document.querySelector("#productContainer"),x=document.querySelector("#productTemplate"),N=u=>{if(!u)return!1;let o=1.5;u.forEach(d=>{const{brand:c,category:a,description:t,id:e,image:l,name:n,price:i,stock:p}=d,r=document.importNode(x.content,!0);r.querySelector("#cardValue").setAttribute("id",`card${e}`),r.querySelector(".category").textContent=a,r.querySelector(".productName").textContent=n,r.querySelector(".productImage").src=l,r.querySelector(".productImage").alt=`${n} img`,r.querySelector(".productStock").textContent=p,r.querySelector(".productDescription").textContent=t,r.querySelector(".productPrice").textContent=`₹ ${i.toFixed(2)}`,r.querySelector(".productActualPrice").textContent=`₹ ${(i*o).toFixed(2)}`,r.querySelector(".stockElement").addEventListener("click",s=>{f(s,e,p)}),r.querySelector(".add-to-cart-button").addEventListener("click",s=>{g(s,e)}),C.append(r)})};N(q);
