import{g as l,s as S,u as q,p as C}from"./showToast-Prz-j4G-.js";const x=(c,e)=>{let o=l().find(a=>a.id===c),u=1;return o&&(u=o.quantity,e=o.price),{quantity:u,price:e,id:c}},P=c=>{let e=l();e=e.filter(o=>o.id!=c),localStorage.setItem("cartProducts",JSON.stringify(e));let r=document.getElementById(c);r&&(r.remove(),S("delete",c)),q(e)},f=(c,e,r,o)=>{const u=document.getElementById(e),a=u.querySelector(".productQuantity"),i=u.querySelector(".productPrice");let t=1,n=0,d=l(),m=d.find(s=>s.id===e);m?(t=m.quantity,n=m.price):(n=o,o=o),c.target.className==="cartIncrement"&&(t<r?(t+=1,a.innerText=t,a.setAttribute("data-quantity",t),i.innerText=n):t===r&&(t=r,n=o*r,a.innerText=t,a.setAttribute("data-quantity",t),i.innerText=n)),c.target.className==="cartDecrement"&&t>1&&(t-=1,a.innerText=t,a.setAttribute("data-quantity",t),i.innerText=n),n=(o*t).toFixed(2);let y={id:e,quantity:t,price:n};y=d.map(s=>s.id===e?y:s),localStorage.setItem("cartProducts",JSON.stringify(y)),a.innerText=t,i.innerText=n};let g=document.querySelector(".productSubTotal"),T=document.querySelector(".productFinalTotal");const p=()=>{let e=l().reduce((r,o)=>(r+=Number(o.price)||0,r),0);g.innerText=`₹ ${e.toFixed(2)}`,T.innerText=`₹ ${(e+50).toFixed(2)}`};let E=l(),b=C.filter(c=>E.some(e=>e.id===c.id));const F=document.querySelector("#productCartContainer"),N=document.querySelector("#productCartTemplate"),v=()=>{b.forEach(c=>{const{category:e,id:r,image:o,name:u,stock:a,price:i}=c;let t=document.importNode(N.content,!0),n=x(r,i);t.querySelector(".category").textContent=e,t.querySelector(".cards").id=r,t.querySelector(".productName").textContent=u,t.querySelector(".productImage").src=o,t.querySelector(".productQuantity").textContent=n.quantity,t.querySelector(".productPrice").textContent=n.price,t.querySelector(".stockElement").addEventListener("click",d=>{f(d,r,a,i),p()}),t.querySelector(".remove-to-cart-button ").addEventListener("click",()=>{P(r),p()}),F.appendChild(t)})};v();p();
